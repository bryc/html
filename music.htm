<script>

var config = {
    title: "bryc music"
};

config.items = [

{mp3:"https://archive.org/download/bryc-music/13-14.mp3"},
{mp3:"https://archive.org/download/bryc-music/1954.mp3"},
{mp3:"https://archive.org/download/bryc-music/35235d.mp3"},
{mp3:"https://archive.org/download/bryc-music/434.mp3"},
{mp3:"https://archive.org/download/bryc-music/4klang.mp3"},
{mp3:"https://archive.org/download/bryc-music/99.mp3"},
{mp3:"https://archive.org/download/bryc-music/AfterHoursJoint.mp3"},
{mp3:"https://archive.org/download/bryc-music/AlmostLikeLove.mp3"},
{mp3:"https://archive.org/download/bryc-music/AmberM00n.mp3"},
{mp3:"https://archive.org/download/bryc-music/AnIntenseExaminationOfHumanLife.mp3"},
{mp3:"https://archive.org/download/bryc-music/AtmoSpherical.mp3"},
{mp3:"https://archive.org/download/bryc-music/BahiaFunk.mp3"},
{mp3:"https://archive.org/download/bryc-music/BeepMap.mp3"},
{mp3:"https://archive.org/download/bryc-music/BristerCrids.mp3"},
{mp3:"https://archive.org/download/bryc-music/CardholderCopy.mp3"},
{mp3:"https://archive.org/download/bryc-music/Cool_1.mp3"},
{mp3:"https://archive.org/download/bryc-music/DS_track1_carry.mp3"},
{mp3:"https://archive.org/download/bryc-music/DS_track2_atmos.mp3"},
{mp3:"https://archive.org/download/bryc-music/DaCoole.mp3"},
{mp3:"https://archive.org/download/bryc-music/DigitalDementia.mp3"},
{mp3:"https://archive.org/download/bryc-music/DrakDcember.mp3"},
{mp3:"https://archive.org/download/bryc-music/EachDayTheSame.mp3"},
{mp3:"https://archive.org/download/bryc-music/EdibleClouds.mp3"},
{mp3:"https://archive.org/download/bryc-music/ElevatorFriendship.mp3"},
{mp3:"https://archive.org/download/bryc-music/ElusiveMind2008.mp3"},
{mp3:"https://archive.org/download/bryc-music/EverythingComesTogether.mp3"},
{mp3:"https://archive.org/download/bryc-music/FerventFlame.mp3"},
{mp3:"https://archive.org/download/bryc-music/FlySoHighdemo2008.mp3"},
{mp3:"https://archive.org/download/bryc-music/FourPartChorale.mp3"},
{mp3:"https://archive.org/download/bryc-music/Frostbite50000.mp3"},
{mp3:"https://archive.org/download/bryc-music/GanymedeTakeover.mp3"},
{mp3:"https://archive.org/download/bryc-music/GoofsInTheHood.mp3"},
{mp3:"https://archive.org/download/bryc-music/GroovyGhouls.mp3"},
{mp3:"https://archive.org/download/bryc-music/HandleWithCare.mp3"},
{mp3:"https://archive.org/download/bryc-music/HeyTwin.mp3"},
{mp3:"https://archive.org/download/bryc-music/IfOnlyYouKnew.mp3"},
{mp3:"https://archive.org/download/bryc-music/IkeaDog.mp3"},
{mp3:"https://archive.org/download/bryc-music/IntentionallyLeftBlank.mp3"},
{mp3:"https://archive.org/download/bryc-music/InternetHero.mp3"},
{mp3:"https://archive.org/download/bryc-music/ItchiRmx.mp3"},
{mp3:"https://archive.org/download/bryc-music/Joint1.mp3"},
{mp3:"https://archive.org/download/bryc-music/JustAbout.mp3"},
{mp3:"https://archive.org/download/bryc-music/KeepOnHustlin.mp3"},
{mp3:"https://archive.org/download/bryc-music/LSD.mp3"},
{mp3:"https://archive.org/download/bryc-music/LapePolaris.mp3"},
{mp3:"https://archive.org/download/bryc-music/LoungeLizard.mp3"},
{mp3:"https://archive.org/download/bryc-music/NewDelicatissimo.mp3"},
{mp3:"https://archive.org/download/bryc-music/NiceDrum.mp3"},
{mp3:"https://archive.org/download/bryc-music/NiceVase.mp3"},
{mp3:"https://archive.org/download/bryc-music/OneTouchOfVenus.mp3"},
{mp3:"https://archive.org/download/bryc-music/OrganAndAClaviet.mp3"},
{mp3:"https://archive.org/download/bryc-music/OrphicOpus.mp3"},
{mp3:"https://archive.org/download/bryc-music/PackingList.mp3"},
{mp3:"https://archive.org/download/bryc-music/ParForTheCourse.mp3"},
{mp3:"https://archive.org/download/bryc-music/PassTheHat.mp3"},
{mp3:"https://archive.org/download/bryc-music/PissedOffLobster.mp3"},
{mp3:"https://archive.org/download/bryc-music/PlayfulTune.mp3"},
{mp3:"https://archive.org/download/bryc-music/PlayingWithFiredemo2008.mp3"},
{mp3:"https://archive.org/download/bryc-music/RedAlgae.mp3"},
{mp3:"https://archive.org/download/bryc-music/SR-7600.mp3"},
{mp3:"https://archive.org/download/bryc-music/SaveOften.mp3"},
{mp3:"https://archive.org/download/bryc-music/SeagullSunrise.mp3"},
{mp3:"https://archive.org/download/bryc-music/SideStep.mp3"},
{mp3:"https://archive.org/download/bryc-music/SingleServing.mp3"},
{mp3:"https://archive.org/download/bryc-music/SmoothSailing.mp3"},
{mp3:"https://archive.org/download/bryc-music/StiffSines.mp3"},
{mp3:"https://archive.org/download/bryc-music/Stormlord2.mp3"},
{mp3:"https://archive.org/download/bryc-music/SwellSwig.mp3"},
{mp3:"https://archive.org/download/bryc-music/TermiteTelephobia.mp3"},
{mp3:"https://archive.org/download/bryc-music/TheFamousSound.mp3"},
{mp3:"https://archive.org/download/bryc-music/TheFuckIsThis.mp3"},
{mp3:"https://archive.org/download/bryc-music/TheRobinsonSwing.mp3"},
{mp3:"https://archive.org/download/bryc-music/UncleJimTakesABath.mp3"},
{mp3:"https://archive.org/download/bryc-music/UnicodeJazzMusicians.mp3"},
{mp3:"https://archive.org/download/bryc-music/UnsignedInt.mp3"},
{mp3:"https://archive.org/download/bryc-music/WalkOnBy.mp3"},
{mp3:"https://archive.org/download/bryc-music/WestBallad.mp3"},
{mp3:"https://archive.org/download/bryc-music/WinterInFrance.mp3"},
{mp3:"https://archive.org/download/bryc-music/WivesAndLovers.mp3"},
{mp3:"https://archive.org/download/bryc-music/WivesAndLoversRmx.mp3"},
{mp3:"https://archive.org/download/bryc-music/WorkOfArtrmxOfDiscarded.mp3"},
{mp3:"https://archive.org/download/bryc-music/WowchipmyLittlePonies.mp3"},
{mp3:"https://archive.org/download/bryc-music/WuTang.mp3"},
{mp3:"https://archive.org/download/bryc-music/YouKeepMeHanginOn.mp3"},
{mp3:"https://archive.org/download/bryc-music/___rrer.mp3"},
{mp3:"https://archive.org/download/bryc-music/aaaidiot_2.mp3"},
{mp3:"https://archive.org/download/bryc-music/acorns.mp3"},
{mp3:"https://archive.org/download/bryc-music/antsinmyhead.mp3"},
{mp3:"https://archive.org/download/bryc-music/apm.mp3"},
{mp3:"https://archive.org/download/bryc-music/asd.mp3"},
{mp3:"https://archive.org/download/bryc-music/bag.mp3"},
{mp3:"https://archive.org/download/bryc-music/ballata.mp3"},
{mp3:"https://archive.org/download/bryc-music/banana_pool.mp3"},
{mp3:"https://archive.org/download/bryc-music/bananas.mp3"},
{mp3:"https://archive.org/download/bryc-music/beat1.mp3"},
{mp3:"https://archive.org/download/bryc-music/beepy.mp3"},
{mp3:"https://archive.org/download/bryc-music/believe.mp3"},
{mp3:"https://archive.org/download/bryc-music/bibe.mp3"},
{mp3:"https://archive.org/download/bryc-music/bitfields.mp3"},
{mp3:"https://archive.org/download/bryc-music/blipblop.mp3"},
{mp3:"https://archive.org/download/bryc-music/brainIndicatif.mp3"},
{mp3:"https://archive.org/download/bryc-music/bryc-crescendo-of-noise-ft.russeni.mp3"},
{mp3:"https://archive.org/download/bryc-music/bryce.mp3"},
{mp3:"https://archive.org/download/bryc-music/cara.mp3"},
{mp3:"https://archive.org/download/bryc-music/carnation.mp3"},
{mp3:"https://archive.org/download/bryc-music/chipe.mp3"},
{mp3:"https://archive.org/download/bryc-music/chipman.mp3"},
{mp3:"https://archive.org/download/bryc-music/cleo.mp3"},
{mp3:"https://archive.org/download/bryc-music/cocktails.mp3"},
{mp3:"https://archive.org/download/bryc-music/coopiano.mp3"},
{mp3:"https://archive.org/download/bryc-music/crystalcaves.mp3"},
{mp3:"https://archive.org/download/bryc-music/ddd.mp3"},
{mp3:"https://archive.org/download/bryc-music/dilla.mp3"},
{mp3:"https://archive.org/download/bryc-music/drm.oooh.mp3"},
{mp3:"https://archive.org/download/bryc-music/drummy.mp3"},
{mp3:"https://archive.org/download/bryc-music/dumpsterscare.mp3"},
{mp3:"https://archive.org/download/bryc-music/ee23.mp3"},
{mp3:"https://archive.org/download/bryc-music/eikosane.mp3"},
{mp3:"https://archive.org/download/bryc-music/elevated.mp3"},
{mp3:"https://archive.org/download/bryc-music/enormous.mp3"},
{mp3:"https://archive.org/download/bryc-music/eq_test.mp3"},
{mp3:"https://archive.org/download/bryc-music/etet.mp3"},
{mp3:"https://archive.org/download/bryc-music/excellent.mp3"},
{mp3:"https://archive.org/download/bryc-music/fcreep.mp3"},
{mp3:"https://archive.org/download/bryc-music/fkh.mp3"},
{mp3:"https://archive.org/download/bryc-music/fm.mp3"},
{mp3:"https://archive.org/download/bryc-music/fml.mp3"},
{mp3:"https://archive.org/download/bryc-music/fonky.mp3"},
{mp3:"https://archive.org/download/bryc-music/geisha.mp3"},
{mp3:"https://archive.org/download/bryc-music/gewagt.mp3"},
{mp3:"https://archive.org/download/bryc-music/good.mp3"},
{mp3:"https://archive.org/download/bryc-music/gyp.mp3"},
{mp3:"https://archive.org/download/bryc-music/hanginwitspiders.mp3"},
{mp3:"https://archive.org/download/bryc-music/hitpune.mp3"},
{mp3:"https://archive.org/download/bryc-music/humanitas.mp3"},
{mp3:"https://archive.org/download/bryc-music/iDK.mp3"},
{mp3:"https://archive.org/download/bryc-music/i_zero_my_music.mp3"},
{mp3:"https://archive.org/download/bryc-music/itch.mp3"},
{mp3:"https://archive.org/download/bryc-music/itchi.mp3"},
{mp3:"https://archive.org/download/bryc-music/jarre.mp3"},
{mp3:"https://archive.org/download/bryc-music/jext.mp3"},
{mp3:"https://archive.org/download/bryc-music/jin-disco.mp3"},
{mp3:"https://archive.org/download/bryc-music/jin-juno.mp3"},
{mp3:"https://archive.org/download/bryc-music/keystone.mp3"},
{mp3:"https://archive.org/download/bryc-music/king-OF-cirme.mp3"},
{mp3:"https://archive.org/download/bryc-music/kneecap.mp3"},
{mp3:"https://archive.org/download/bryc-music/levon.mp3"},
{mp3:"https://archive.org/download/bryc-music/liberty.mp3"},
{mp3:"https://archive.org/download/bryc-music/lultima.mp3"},
{mp3:"https://archive.org/download/bryc-music/maje.mp3"},
{mp3:"https://archive.org/download/bryc-music/maldys.mp3"},
{mp3:"https://archive.org/download/bryc-music/med.mp3"},
{mp3:"https://archive.org/download/bryc-music/memories.mp3"},
{mp3:"https://archive.org/download/bryc-music/meringues.mp3"},
{mp3:"https://archive.org/download/bryc-music/micropower.mp3"},
{mp3:"https://archive.org/download/bryc-music/nogz.mp3"},
{mp3:"https://archive.org/download/bryc-music/nostalgia.mp3"},
{mp3:"https://archive.org/download/bryc-music/ooohaaahnananah.mp3"},
{mp3:"https://archive.org/download/bryc-music/opato.mp3"},
{mp3:"https://archive.org/download/bryc-music/pab.mp3"},
{mp3:"https://archive.org/download/bryc-music/peteroc.mp3"},
{mp3:"https://archive.org/download/bryc-music/platinum.mp3"},
{mp3:"https://archive.org/download/bryc-music/pssec.mp3"},
{mp3:"https://archive.org/download/bryc-music/qip.mp3"},
{mp3:"https://archive.org/download/bryc-music/r1.mp3"},
{mp3:"https://archive.org/download/bryc-music/rbl.mp3"},
{mp3:"https://archive.org/download/bryc-music/reed-days1.mp3"},
{mp3:"https://archive.org/download/bryc-music/reed-days2.mp3"},
{mp3:"https://archive.org/download/bryc-music/referendum.mp3"},
{mp3:"https://archive.org/download/bryc-music/relations.mp3"},
{mp3:"https://archive.org/download/bryc-music/revelation.mp3"},
{mp3:"https://archive.org/download/bryc-music/rhodes.mp3"},
{mp3:"https://archive.org/download/bryc-music/rhombus.mp3"},
{mp3:"https://archive.org/download/bryc-music/rotations.mp3"},
{mp3:"https://archive.org/download/bryc-music/rrrr.mp3"},
{mp3:"https://archive.org/download/bryc-music/sadasdas2.mp3"},
{mp3:"https://archive.org/download/bryc-music/sfsfsd.mp3"},
{mp3:"https://archive.org/download/bryc-music/sinefuc.mp3"},
{mp3:"https://archive.org/download/bryc-music/sines.mp3"},
{mp3:"https://archive.org/download/bryc-music/sink.mp3"},
{mp3:"https://archive.org/download/bryc-music/skid_r0w.mp3"},
{mp3:"https://archive.org/download/bryc-music/slippery.mp3"},
{mp3:"https://archive.org/download/bryc-music/snoitaler.mp3"},
{mp3:"https://archive.org/download/bryc-music/soundbox.mp3"},
{mp3:"https://archive.org/download/bryc-music/spline.mp3"},
{mp3:"https://archive.org/download/bryc-music/splyce-nicetry.mp3"},
{mp3:"https://archive.org/download/bryc-music/stiff-sines-1.mp3"},
{mp3:"https://archive.org/download/bryc-music/stillgay.mp3"},
{mp3:"https://archive.org/download/bryc-music/strauss.mp3"},
{mp3:"https://archive.org/download/bryc-music/strm_slc.mp3"},
{mp3:"https://archive.org/download/bryc-music/strummin.mp3"},
{mp3:"https://archive.org/download/bryc-music/subway.mp3"},
{mp3:"https://archive.org/download/bryc-music/swell.mp3"},
{mp3:"https://archive.org/download/bryc-music/tango.mp3"},
{mp3:"https://archive.org/download/bryc-music/temagami.mp3"},
{mp3:"https://archive.org/download/bryc-music/test01.mp3"},
{mp3:"https://archive.org/download/bryc-music/tr1.mp3"},
{mp3:"https://archive.org/download/bryc-music/typedef.mp3"},
{mp3:"https://archive.org/download/bryc-music/wagnah.mp3"},
{mp3:"https://archive.org/download/bryc-music/wandflower.mp3"},
{mp3:"https://archive.org/download/bryc-music/west.mp3"},
{mp3:"https://archive.org/download/bryc-music/woof.mp3"},
{mp3:"https://archive.org/download/bryc-music/youtube_beat.mp3"},
{mp3:"https://archive.org/download/bryc-music/yyt.mp3"},
{mp3:"https://archive.org/download/bryc-music/zopittybop-bop-bop.mp3"}
];

</script>

<script>
function init()
{
    document.title = config.title;
    var $AUD = elem(["audio", {controls: true}]);
    config.player = $AUD;
    
    var page = elem([],
            elem(["div", {className: "top"}],
            elem(["h1",config.title]),
            $AUD,
            elem(["div"])
            ),
            elem(["div", {className: "content"}])
        );
        
    config.player.addEventListener('ended',play);
    
    document.body.setElement(page);
    
    prepareData();
    
    var landing = landingDisplay();

    //var test = tagDisplay("diversions");
    if(config.tags[window.location.hash.slice(1).split("/")[0]])
    {
        var hash = window.location.hash.slice(1);
        var test = tagDisplay(hash.split("/")[0]);
        createDisplay(test);
        play(hash);
    } else {
        createDisplay(landing);
    }
    
}
function updateNowPlaying(qw)
{
    if(!qw)
    {
        qw = config.player.dataset.id;
    }
    
    
    if(config.nowPlaying)
    {
        config.nowPlaying.className = "row";
    }
    var el = document.querySelector("tr[data-id='"+qw+"']");
    if(el) {
       // el = el.parentNode;
        config.nowPlaying = el;
        el.className = "playing row";
    }
}

function play(evt)
{   //nowPlaying

    if(evt.constructor === String)
    {
        var id = evt.split("/");
    } 
    else
    {
        var id = this.dataset.id.split("/");
    }
    
    var audio = config.player;
    
    if(evt instanceof Event && evt instanceof MouseEvent === false)
    {   console.log(evt.constructor);
        id[1] = +id[1] + 1;
    }
    var next = config.tags[id[0]][id[1]];
    
    var date = next.date,
        time = next.time,
        title = next.name;
            
     if(time)
     {
         title += " ("+time+")";
     }
    
    document.body.childNodes[0].childNodes[2].innerHTML = '<b>'+title+'</b>';

    if(next)
    {
        var qw = id.join("/");
        audio.dataset.id = qw;
        audio.src = next.mp3;
        audio.play();
        window.location.hash = qw;
        document.title = title;
        
        updateNowPlaying(qw);
    }
}

function tagDisplay(name)
{
    var display = elem([]);

    display.appendChild(elem(["h3", {
        className: "link",
        textContent: "Back",
        onclick: function(){
            createDisplay(landingDisplay());
        }
    }]));
    
    display.appendChild(elem(["h2", name]));
    
    var table = elem(["table"]);
    for(var i = 0; i < config.tags[name].length; i++)
    {
        var date = config.tags[name][i].date,
            time = config.tags[name][i].time,
            title = config.tags[name][i].name;
            
        if(time)
        {
            title += " ("+time+")";
        }
        
        var tr = elem(["tr", {className: "row", onclick: play}],
            elem(["td", {innerHTML: title}]),
            elem(["td", {innerHTML: date ? date : ""}])
            );
        tr.dataset.id = name + "/" + i;
        
        table.appendChild(tr);
        table.appendChild(elem(["tr", {className: "spacer"}]));
    }
    display.appendChild(table);
    
    return display;
}

function landingDisplay()
{
    var display = elem([]);
    var keys    = Object.keys(config.tags);
    
    for(var i = 0; i < keys.length; i++)
    {
        var tagName = keys[i];
        var amt = config.tags[keys[i]].length;
        
        var o = elem(["h2", {
            className: "link",
            id: tagName,
            textContent: tagName+" ("+amt+" tracks)"
            }
        ]);
        
        o.onclick = function()
        {
            createDisplay(tagDisplay(this.id))
        };
            
        display.appendChild(o);
    }
    
    return display;
}

function prepareData()
{
    for(var i = 0, tags = {}; i < config.items.length; i++)
    {
        var me = config.items[i];
        if(me.tag === undefined)
        {
            me.tag = "untagged";
        }
        if(me.name === undefined)
        {
            me.name = decodeURIComponent(me.mp3).replace(/^.*[\\\/]/, '').split('.')[0];
        }
        if(tags[me.tag] === undefined)
        {
            tags[me.tag] = [];
        }
        tags[me.tag].push(me);
    }
    config.tags = tags;
}

function createDisplay(display)
{ 

    if(display instanceof Node) {
    document.body.childNodes[1].setElement(display);
        updateNowPlaying();
    }
}

window.addEventListener("load", init);

Node.prototype.setElement = function(value)
{
    while (this.firstChild)
    {
        this.firstChild.remove();
    }
    this.appendChild(value);
}

var elem = function() {
    var keys    = {}, elmnt   = null;
    var tagName = arguments[0][0];
    var prop    = arguments[0][1];
    if(typeof tagName === "string"){
        elmnt = document.createElement(tagName);
    }else{
        elmnt = document.createDocumentFragment();
    }
    if(typeof prop === "object"){
        keys = Object.keys(prop);
    }else if(typeof prop !== "object"){
        elmnt.textContent = prop;
    }
    for(var i = 0; i < keys.length; i++){
        var key    = keys[i];
        var method = elmnt[key.slice(2)];
        if(key.indexOf("$_") > -1){
            method.apply(elmnt, prop[key]);
        }else{
            elmnt[key] = prop[key]; 
        }}
    if(arguments.length > 1){
        for(var i = 1; i < arguments.length; i++){
            if(arguments[i].nodeType > 0){
                elmnt.appendChild(arguments[i]);
            }}}
    return elmnt;
}
</script>

<style>
body {
font:14px sans-serif;
background:#DDD;
}

.top {
box-sizing:border-box;
-webkit-box-sizing:border-box;
-moz-box-sizing:border-box;
background:#333;
text-align:center;
position:fixed;
top:0;
left:0;
width:100%;
padding:16px;
}

.content {
width:768px;
margin:128px auto auto;
margin-bottom:128px;
}

table {
width:100%;
font-size:14px;
border-collapse:collapse;
}

td {
padding:10px;
}

td:nth-child(1) {
}

h2,h3{
font-size:18px;
margin:0;
padding:15px;
}

h1{
text-align:left;font-size:18px;
margin:0; color:#FFF
}

h2 {
color:#EEE;
background:#555;
}

.link {
margin-bottom:4px;
user-select:none;
-webkit-user-select:none;
-moz-user-select:none;
}

h3.link {
background:rgba(0,0,0,0.1);
}

.link:hover {
color:#000;
background:rgba(0,0,0,0.2);
cursor:pointer;
}

.preview {
background:#FFF;
display:inline-block;
margin:2px;
padding:4px;
}

.playing
{ font-weight:bold;
    background: rgba(255,255,255,0.25) !important;
    outline: 2px solid #999;
    animation: playin 1s;
    animation-iteration-count:infinite;
    -webkit-animation: playin 1s;
    -webkit-animation-iteration-count:infinite;
    -moz-animation: playin 1s;
    -moz-animation-iteration-count:infinite;
}

.row {
user-select:none;
-webkit-user-select:none;
-moz-user-select:none;
color:#555;
background:rgba(255,255,255,0.75);
border:2px solid #CCC;
width:768px;
margin:2px auto;
}

.row:hover {
background:#EEE;
cursor:pointer;
}

t.spacer {
height:4px;
}

@keyframes playin {
    0%{outline: 2px solid #999;}
    50%{outline: 2px solid #EEE;}
    100%{outline: 2px solid #999;}
}

@-moz-keyframes playin {
    0%{outline: 2px solid #999;}
    50%{outline: 2px solid #EEE;}
    100%{outline: 2px solid #999;}
}

@-webkit-keyframes playin {
    0%{outline: 2px solid #999;}
    50%{outline: 2px solid #EEE;}
    100%{outline: 2px solid #999;}
}

.top > div {
padding:5px;color:#FFF;
}

a{color:#CCC} a:hover{color:#FFF !important;}
</style>
